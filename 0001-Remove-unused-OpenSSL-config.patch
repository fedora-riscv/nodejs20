From d1e3011bc4fdbc0abcbf80692d84906dce8c4556 Mon Sep 17 00:00:00 2001
From: Stephen Gallagher <sgallagh@redhat.com>
Date: Fri, 17 Apr 2020 12:59:44 +0200
Subject: [PATCH] Remove unused OpenSSL config

The build process will try to create these config files, even when
using the system OpenSSL and will thus fail since we strip this path
from the tarball.

Signed-off-by: Stephen Gallagher <sgallagh@redhat.com>
---
 node.gyp | 17 -----------------
 1 file changed, 17 deletions(-)

diff --git a/node.gyp b/node.gyp
index eb7a43e4a0eb9da8ba352905f4becfb3214be149..6d49a45e731ba146ac9d832618a82c7f5b10284f 100644
--- a/node.gyp
+++ b/node.gyp
@@ -729,23 +729,6 @@
               ],
             },
           ],
-         }, {
-           'variables': {
-              'opensslconfig_internal': '<(obj_dir)/deps/openssl/openssl.cnf',
-              'opensslconfig': './deps/openssl/nodejs-openssl.cnf',
-           },
-           'actions': [
-             {
-               'action_name': 'reset_openssl_cnf',
-               'inputs': [ '<(opensslconfig)', ],
-               'outputs': [ '<(opensslconfig_internal)', ],
-               'action': [
-                 '<(python)', 'tools/copyfile.py',
-                 '<(opensslconfig)',
-                 '<(opensslconfig_internal)',
-               ],
-             },
-           ],
          }],
       ],
     }, # node_core_target_name
-- 
2.40.1

